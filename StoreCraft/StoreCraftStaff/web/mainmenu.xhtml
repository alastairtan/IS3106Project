<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    
    <section id="mainmenu" class="mainmenu">
        
        <h:form style="padding: 2%">
            <h3>Main Menu</h3>
            <p:menu style="width: 95%">
                <p:submenu label="System">
                    <p:menuitem value="Home" outcome="/dashboard.xhtml" icon="fa fa-home" />
                    <p:menuitem value="Change Password" onclick="PF('dialogChangePassword').show()" icon="fa fa-key"/>
                </p:submenu>
                <p:submenu label="Administration">
                    <p:menuitem value="Product Management" outcome="/systemAdministration/productManagement.xhtml" icon="fa fa-tags" />
                    <p:menuitem value="Staff Management" outcome="/systemAdministration/staffManagement.xhtml" icon="fa fa-users"/>
                    <p:menuitem value="Sales Management" outcome="/systemAdministration/salesManagement.xhtml" icon="fa fa-list" />
                    <p:menuitem value="Discount Management" outcome="/systemAdministration/discountCodeManagement.xhtml" icon="fa fa-money"/>
                </p:submenu>
                <p:submenu label="Game Features">
                    <p:menuitem value="Scavenger Hunt" outcome="/gameFeatures/scavengerHunt.xhtml" icon="fa fa-trophy"/>
                    <p:menuitem value="Community Goals" outcome="/gameFeatures/communityGoals.xhtml" icon="fa fa-rocket"/>
                </p:submenu>
                    
            </p:menu>
        </h:form>
        
        <h:form id="changePasswordForm">
            <p:dialog id="dialogChangePassword" widgetVar="dialogChangePassword" header="Change Password" closable="true">
                <p:messages id="messagesChangePassword" redisplay="false" closable="true" globalOnly="true"/>
                <p:panelGrid styleClass="ui-noborder">
                    <p:row>
                        <p:column>
                            <p:outputLabel for="oldPassword" value="Old Password: " style="font-weight: bold;" />
                        </p:column>
                        <p:column>
                            <p:password id="oldPassword" value="#{changePasswordManagedBean.oldPassword}" required="true" requiredMessage="Field is required" />
                        </p:column>
                        <p:column>
                            <p:message for="oldPassword" />
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="newPassword" value="New Password: " style="font-weight: bold;" />
                        </p:column>
                        <p:column>
                            <p:password id="newPassword" value="#{changePasswordManagedBean.newPassword1}" required="true" requiredMessage="Field is required" />
                        </p:column>
                        <p:column>
                            <p:message for="newPassword" />
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="reenterNewPassword" value="Re-enter New Password: " style="font-weight: bold;" />
                        </p:column>
                        <p:column>
                            <p:password id="reenterNewPassword" value="#{changePasswordManagedBean.newPassword2}" required="true" requiredMessage="Field is required" />
                        </p:column>
                        <p:column>
                            <p:message for="reenterNewPassword" />
                        </p:column>
                    </p:row>
                    <p:row>
                        <p:column colspan="3" style="text-align: center">
                            <p:commandButton type="reset" value="Clear" />&nbsp;
                            <p:commandButton id="changePwButton" value="Change Password" update="@form" actionListener="#{changePasswordManagedBean.changePassword}" oncomplete="PF('dialogChangePassword').show();" />
                        </p:column>
                    </p:row>
                </p:panelGrid>
            </p:dialog>
        </h:form>
    </section>
    
</ui:composition>

